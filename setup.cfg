[coverage:run]
branch = True
source =
  src
  src/caps_gen
  src/endpoints
  src/models
  src/offload
  src/prediction
omit =
  migrations
  migrations/versions
  \src/__init__.py

[coverage:report]
show_missing = True
precision = 2
sort = Cover
exclude_lines =
    # Have to re-enable the standard pragma
    pragma: no cover

    # Don't complain about missing debug-only code:
    def __repr__
    if self\.debug

    # Don't complain if tests don't hit defensive assertion code:
    raise AssertionError
    raise NotImplementedError

[tool:pytest]
flake8-ignore =
  migrations/* ALL
markers =
  auth
  caps_gen
  cdm_labels
  client_models
  client_tax_gl_extract
  client_vendor_master
  clients
  codes
  data_mappings
  data_params
  error_categories
  fx_rates
  general
  gst_registration
  jurisdictions
  lob_sectors
  logs
  master_models
  paredown_rules
  projects
  roles
  tax_rates
  transactions
  users

[flake8]
ignore =
  X100, # superflous per-file-ignores for __
  E251, # unexpected spaces around keyword / parameter equals
  E265, # block comment should start with '# '
  E266, # too many leading '#' for block comment
  E302, # expected 2 blank lines
  E305, # expected 2 blank lines after class or function definition
  E501, # line too long
per-file-ignores =
  test/functional/*: F401, F811
  test/unit/*: F401, F811
